# --- timelapse.conf ---

[DEVICE]
# REQUIRED: A unique identifier for this specific camera/Pi (e.g., NorthWindow, PiZeroCam).
# This ID is used to prevent filename conflicts and organise NAS backups.
id = Pi0Cam

[SCHEDULER]
latitude = 60.1699
longitude = 24.9384
target_video_length_seconds = 30
target_fps = 25
min_interval_seconds = 10
max_interval_seconds = 120
buffer_minutes = 45
timezone = Europe/Helsinki


## we want to define the command the cpp program uses here, so the compiled program gets its settings
## from this file,  making it easier to change settings and adapt to different systems.

[CAMERA]
# The shell command used by the C++ program to capture the image.
# {image_path}, {width}, and {height} are substituted at runtime.
capture_command = libcamera-still --timeout 1000 --nopreview --width 1920 --height 1080
resolution_width = 1920
resolution_height = 1080
image_format = jpg



[BACKUP]
# NAS backup using rsync daemon (no SSH/password needed)
nas_host = 192.168.0.39
nas_module = timelapse
backup_enabled = true
delete_after_backup = false

[CLEANUP]
# Local retention policy (only deletes items with .backed_up marker)
keep_days = 15
keep_videos = 20
cleanup_enabled = true

[DISK_CLEANUP]
# Disk-space-based cleanup (runs independently via disk_cleanup.py)
# Start deleting old photos when disk usage exceeds this percentage
start_cleanup_percent = 80
# Target percentage to reach after cleaning photos
target_percent = 70
# Start deleting old videos (last resort) when disk exceeds this percentage
emergency_percent = 90
# Target percentage after emergency video cleanup
emergency_target_percent = 80
# Never delete anything younger than this many days (safety net)
min_retention_days = 7

[YOUTUBE]
upload_enabled = true
client_secrets_file = client_secrets.json
credentials_file = youtube_credentials.json
# Re-adding {device_id} here to ensure uniqueness if you run multiple cameras
default_title = Daily Timelapse {device_id} {date}
default_description = Automated daily timelapse from {device_id} on {date}. Sunrise: {sunrise}, Sunset: {sunset}. Captured with Raspberry Pi
default_tags = timelapse,raspberry pi,automated,daily
default_privacy = public

